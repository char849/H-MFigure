import{y as p,r as e,z as _}from"./index-KQtezNbh.js";import{a as n}from"./axios-L6U4YIEh.js";import{S as l}from"./sweetalert2.all-_QNkImil.js";var h={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:d,VITE_PATH:u}=h,E=p("cartStore",()=>{const o=e(!1),a=_([]),r=e(0),s=e(0),c=e(0),i=()=>{n.get(`${d}api/${u}/cart`).then(t=>{a.splice(0),a.push(...t.data.data.carts),r.value=t.data.data.final_total,s.value=t.data.data.total,c.value=a.length}).catch(t=>{l.fire("pinia cart:",t)})};return{cart:a,finalTotal:r,cartsLength:c,total:s,getCart:i,addToCart:t=>{const f={product_id:t,qty:1};o.value=!0,n.post(`${d}api/${u}/cart`,{data:f}).then(()=>{o.value=!1,i(),l.fire("己加入預約清單")})}}});export{E as u};

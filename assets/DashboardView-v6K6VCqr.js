import{a as _}from"./axios-L6U4YIEh.js";import{S as o}from"./sweetalert2.all-9VyFAjSC.js";import{x as m,a as v,b as f,c as d,d as h,e as a,f as r,g as i,h as u,m as k,n as V,l as E,k as x,F as R}from"./index-VMVU25lk.js";var I={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const T={class:"navbar navbar-expand-lg fixed-top navbar-light text-success fw-bold"},A=a("span",{class:"navbar-toggler-icon"},null,-1),D=[A],P={class:"collapse navbar-collapse",ref:"collapse"},S={class:"navbar-nav me-auto mb-2 mb-lg-0"},$={class:"nav-item"},w={class:"nav-item"},B={class:"nav-item"},N={__name:"DashboardBar",setup(g){const{VITE_API:c}=I,l=m(),n=v(!1),p=()=>{const s=`${c}/logout`;_.post(s).then(e=>{e.data.success&&(l.push("/login"),o.value(e.data.message))}).catch(e=>{e.response&&e.response.data?o.fire(e.response.data.message):o.fire("己成功登出")})};return(s,e)=>{const t=f("RouterLink");return d(),h("nav",T,[a("div",{class:V(["container-fluid",{open:n.value}])},[r(t,{class:"navbar-brand mt-0",to:"/admin/products"},{default:i(()=>[u("後台首頁")]),_:1}),a("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...b)=>s.toggleNavbar&&s.toggleNavbar(...b))},D),a("div",P,[a("ul",S,[a("li",$,[r(t,{class:"nav-link",to:"/admin/products"},{default:i(()=>[u("後台產品列表")]),_:1})]),a("li",w,[r(t,{class:"nav-link",to:"/admin/orders"},{default:i(()=>[u("後台訂單列表")]),_:1})]),a("li",B,[a("a",{href:"#",class:"nav-link",onClick:k(p,["prevent"])},"登出")])])],512)],2)])}}};var C={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const H={__name:"DashboardView",setup(g){const c=m(),{VITE_API:l}=C,n=v(!1);return(()=>{const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");_.defaults.headers.common.Authorization=`${s}`;const e=`${l}api/user/check`;_.post(e).then(()=>{n.value=!0,o.fire("己成功登入")}).catch(t=>{c.push("/login"),o.fire(t.response.data.message)})})(),(s,e)=>{const t=f("RouterView");return d(),h(R,null,[r(N),n.value?(d(),E(t,{key:0})):x("",!0)],64)}}};export{H as default};

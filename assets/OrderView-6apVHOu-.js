import{S as $}from"./sweetalert2.all-b3CSDMcF.js";import{a as b}from"./axios-L6U4YIEh.js";import{p as T,x as E,a as r,o as V,b as N,c as a,d,e as s,f as v,F as m,j as f,t as e,k as S,i as y,h as C}from"./index-W0TRu90k.js";var I={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const P={class:"container-fulid box-bg09"},q={key:0,class:"container mt-5 mt-md-7 mb-5"},B=y('<ul class="row justify-content-center list-unstyled py-0 py-md-3 px-3" data-aos="fade-down"><li class="col-md-4"><div class="bg-info p-3 badge rounded-pill fs-3 w-100 mb-2 bg-secondary text-dark"> 1. 填寫資料 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-info text-dark"> 2. 課程結帳 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-danger text-white"> 3. 付款完成 </div></li></ul>',1),O={class:"col-12 text-dark mt-1 mt-md-4","data-aos":"zoom-in-down"},j={class:"mx-auto text-center OBJECTS04"},A=s("div",{class:"fw-bold title mb-0"},"課程己完成付款",-1),L=s("span",{class:"text-info fs-4"},"Complete Payment for Course",-1),R={class:"row justify-content-center order mx-1"},z={class:"col-12 col-md-8","data-aos":"fade-up"},D={class:"col-12"},F=s("h3",{class:"mb-3 text-success"},"訂單課程清單",-1),H={class:"table"},M=s("thead",{class:"border-bottom"},[s("th",null,"課程名稱"),s("th",null,"報名人數"),s("th",{class:"text-center d-none d-md-block"},"總價")],-1),U=["src","alt"],J={class:"mb-2 mb-md-0"},G={class:"h6"},K={class:"d-table-cell d-lg-none"},Q={class:"text-center d-none d-lg-table-cell"},W={class:"col-12 mb-6"},X=s("h3",{class:"text-success"},"上課資訊",-1),Y={class:"table border"},Z=s("tr",null,[s("td",{colspan:"2",class:"text-danger fw-bold"},[s("i",{class:"bi bi-bell-fill"}),C(" 感謝同學的報名，上課時間及地點再請留意Email訊息。 ")])],-1),ss=s("th",{style:{width:"200px"},class:"ps-3"},"姓名",-1),ts=s("th",{class:"ps-3"},"Email",-1),es=s("th",{class:"ps-3"},"電話",-1),ls=s("th",{class:"ps-3"},"地址",-1),os=s("th",{style:{width:"100px"},class:"ps-3"},"訂單編號",-1),as=s("th",{class:"ps-3"},"下單時間",-1),ds=s("th",{class:"ps-3"},"付款狀態",-1),cs={key:0,class:"text-success"},ns={key:1,class:"text-danger"},is=s("th",{class:"ps-3"},"總金額",-1),rs={key:1,class:"container mt-5 mt-md-7 mb-5"},us=y('<ul class="row justify-content-center list-unstyled py-0 py-md-3 px-3" data-aos="fade-down"><li class="col-md-4"><div class="bg-info p-3 badge rounded-pill fs-3 w-100 mb-2 bg-secondary text-dark"> 1. 填寫資料 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-danger text-white"> 2. 課程結帳 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-info text-dark"> 3. 付款完成 </div></li></ul>',1),_s={class:"col-12 text-dark mt-1 mt-md-4","data-aos":"zoom-in-down"},hs={class:"mx-auto text-center OBJECTS04"},ps=s("div",{class:"fw-bold title mb-0"},"實體課程下訂",-1),bs=s("span",{class:"text-info fs-4"},"Place an order for the course",-1),vs={class:"row justify-content-center order mx-1"},ms={class:"col-12 col-md-8","data-aos":"fade-up"},fs={class:"col-12"},ys=s("h3",{class:"mb-3 text-success"},"訂單課程清單",-1),gs={class:"table"},xs=s("thead",{class:"border-bottom"},[s("th",null,"課程名稱"),s("th",null,"報名人數"),s("th",{class:"text-center d-none d-md-block"},"總價")],-1),ws=["src","alt"],ks={class:"mb-2 mb-md-0"},$s={class:"h6"},Ts={class:"d-table-cell d-lg-none"},Es={class:"text-center d-none d-lg-table-cell"},Vs={class:"col-12 mb-6"},Ns=s("h3",{class:"text-success"},"上課資訊",-1),Ss={class:"table border"},Cs=s("th",{style:{width:"200px"},class:"ps-3"},"姓名",-1),Is=s("th",{class:"ps-3"},"Email",-1),Ps=s("th",{class:"ps-3"},"電話",-1),qs=s("th",{class:"ps-3"},"地址",-1),Bs=s("th",{style:{width:"100px"},class:"ps-3"},"訂單編號",-1),Os=s("th",{class:"ps-3"},"下單時間",-1),js=s("th",{class:"ps-3"},"付款狀態",-1),As={key:0,class:"text-success"},Ls={key:1,class:"text-danger fw-bold"},Rs=s("th",{class:"ps-3"},"總金額",-1),zs={colspan:"2",class:"text-center py-3"},Us={__name:"OrderView",setup(Ds){const{VITE_API:u,VITE_PATH:_}=I,g=T(),x=E(),i=r(null),t=r({user:{}}),c=r(!1),h=()=>{c.value=!0,i.value=g.params.id,b.get(`${u}api/${_}/order/${i.value}`).then(o=>{c.value=!1,o.data.success?(t.value=o.data.order,console.log(t.value)):console.log(o.data.message,"","success")}).catch(o=>{c.value=!1,console.log(o.response)})},w=o=>{c.value=!0,b.post(`${u}api/${_}/pay/${o}`).then(()=>{$.fire("己完成付款"),c.value=!1,h()}).catch(n=>{c.value=!1,console.log(n)})},k=()=>{x.push("/products")};return V(()=>{h()}),(o,n)=>{const p=N("VueLoading");return a(),d("div",P,[t.value.is_paid?(a(),d("div",q,[B,s("div",O,[s("div",j,[A,L,v(p,{active:c.value,"z-index":1060,class:"text-center"},null,8,["active"])])]),s("div",R,[s("div",z,[s("div",D,[F,s("table",H,[M,s("tbody",null,[(a(!0),d(m,null,f(t.value.products,l=>(a(),d("tr",{key:l,class:"align-middle"},[s("td",null,[s("img",{src:l.product.imageUrl,alt:l.product.title,style:{width:"100px"},class:"rounded-3"},null,8,U)]),s("td",null,[s("p",J,e(l.product.title),1),s("p",G,"數量 : "+e(l.qty),1),s("p",K," NT $"+e(o.$filters.currency(l.product.price*l.qty)),1)]),s("td",Q," NT $"+e(o.$filters.currency(l.product.price*l.qty)),1)]))),128))])])]),s("div",W,[X,s("table",Y,[s("tbody",null,[Z,s("tr",null,[ss,s("td",null,e(t.value.user.name),1)]),s("tr",null,[ts,s("td",null,e(t.value.user.email),1)]),s("tr",null,[es,s("td",null,e(t.value.user.tel),1)]),s("tr",null,[ls,s("td",null,e(t.value.user.address),1)]),s("tr",null,[os,s("td",null,e(t.value.id),1)]),s("tr",null,[as,s("td",null,e(o.$filters.date(t.value.create_at)),1)]),s("tr",null,[ds,s("td",null,[t.value.is_paid?(a(),d("strong",cs,"已付款")):(a(),d("span",ns,"尚未付款"))])]),s("tr",null,[is,s("td",null," NT $"+e(o.$filters.currency(t.value.total)),1)]),s("tr",null,[s("td",{colspan:"2",class:"text-center py-3"},[s("button",{type:"button",class:"btn btn-danger rounded-pill w-50 py-2",onClick:k}," 繼續看課程 ")])])])])])])])])):(a(),d("div",rs,[us,s("div",_s,[s("div",hs,[ps,bs,v(p,{active:c.value,"z-index":1060,class:"text-center"},null,8,["active"])])]),s("div",vs,[s("div",ms,[s("div",fs,[ys,s("table",gs,[xs,s("tbody",null,[(a(!0),d(m,null,f(t.value.products,l=>(a(),d("tr",{key:l,class:"align-middle"},[s("td",null,[s("img",{src:l.product.imageUrl,alt:l.product.title,style:{width:"100px"},class:"rounded-3"},null,8,ws)]),s("td",null,[s("p",ks,e(l.product.title),1),s("p",$s,"人數 : "+e(l.qty),1),s("p",Ts," NT $"+e(o.$filters.currency(l.product.price*l.qty)),1)]),s("td",Es," NT $"+e(o.$filters.currency(l.product.price*l.qty)),1)]))),128))])])]),s("div",Vs,[Ns,s("table",Ss,[s("tbody",null,[s("tr",null,[Cs,s("td",null,e(t.value.user.name),1)]),s("tr",null,[Is,s("td",null,e(t.value.user.email),1)]),s("tr",null,[Ps,s("td",null,e(t.value.user.tel),1)]),s("tr",null,[qs,s("td",null,e(t.value.user.address),1)]),s("tr",null,[Bs,s("td",null,e(t.value.id),1)]),s("tr",null,[Os,s("td",null,e(o.$filters.date(t.value.create_at)),1)]),s("tr",null,[js,s("td",null,[t.value.is_paid?(a(),d("strong",As,"已付款")):(a(),d("span",Ls,"尚未付款"))])]),s("tr",null,[Rs,s("td",null," NT $"+e(o.$filters.currency(t.value.total)),1)]),s("tr",null,[s("td",zs,[t.value.is_paid?S("",!0):(a(),d("button",{key:0,type:"button",class:"btn btn-danger rounded-pill w-50 py-2",onClick:n[0]||(n[0]=l=>w(i.value))}," 確認付款去 "))])])])])])])])]))])}}};export{Us as default};

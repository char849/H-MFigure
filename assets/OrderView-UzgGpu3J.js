import{S as r}from"./sweetalert2.all-_UYERdNe.js";import{a as b}from"./axios-L6U4YIEh.js";import{l as T,q as E,r as u,h as V,a as N,o as a,c,b as t,d as v,F as f,i as y,t as s,j as S,g as x,f as C}from"./index-ECwgk41n.js";var q={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const I={class:"container-fulid box-bg09"},P={key:0,class:"container mt-5 mt-md-7 mb-5"},B=x('<ul class="row justify-content-center list-unstyled py-0 py-md-3 px-3" data-aos="fade-down"><li class="col-4 col-md-4"><div class="bg-info p-3 px-1 badge rounded-pill mall_w w-100 mb-2 bg-secondary text-dark"> 1. 填寫資料 </div></li><li class="col-4 col-md-4"><div class="p-3 px-1 badge rounded-pill mall_w w-100 mb-2 bg-info text-dark"> 2. 課程結帳 </div></li><li class="col-4 col-md-4"><div class="p-3 px-1 badge rounded-pill mall_w w-100 mb-2 bg-danger text-white"> 3. 付款完成 </div></li></ul>',1),O={class:"col-12 text-dark mt-1 mt-md-4","data-aos":"zoom-in-down"},j={class:"mx-auto text-center OBJECTS04"},A=t("div",{class:"fw-bold title mb-0"},"己完成付款",-1),L=t("span",{class:"text-info fs-4"},"Complete Payment for Course",-1),R={class:"row justify-content-center order mx-1"},z={class:"col-12 col-md-8","data-aos":"fade-up"},D={class:"col-12 mt-3"},F=t("h3",{class:"mb-3 text-success"},"訂單課程清單",-1),H={class:"table"},M=t("thead",{class:"border-bottom"},[t("th",null,"課程名稱"),t("th",null,"報名人數"),t("th",{class:"text-center d-none d-md-block"},"總價")],-1),U=["src","alt"],J={class:"mb-2 mb-md-0"},G={class:"h6"},K={class:"d-table-cell d-lg-none"},Q={class:"text-center d-none d-lg-table-cell"},W={class:"col-12 mb-6"},X=t("h3",{class:"text-success mt-6"},"上課資訊",-1),Y={class:"table border"},Z=t("tr",null,[t("td",{colspan:"2",class:"text-danger fw-bold"},[t("i",{class:"bi bi-bell-fill"}),C(" 感謝同學的報名，上課時間及地點再請留意Email訊息。 ")])],-1),tt=t("th",{style:{width:"200px"},class:"ps-3"},"姓名",-1),st=t("th",{class:"ps-3"},"Email",-1),et=t("th",{class:"ps-3"},"電話",-1),lt=t("th",{class:"ps-3"},"地址",-1),ot=t("th",{style:{width:"100px"},class:"ps-3"},"訂單編號",-1),at=t("th",{class:"ps-3"},"下單時間",-1),ct=t("th",{class:"ps-3"},"付款狀態",-1),dt={key:0,class:"text-success"},nt={key:1,class:"text-danger"},rt=t("th",{class:"ps-3"},"總金額",-1),it={key:1,class:"container mt-5 mt-md-7 mb-5"},ut=x('<ul class="row justify-content-center list-unstyled py-0 py-md-3 px-3" data-aos="fade-down"><li class="col-4 col-md-4"><div class="bg-info p-3 px-1 badge rounded-pill mall_w w-100 mb-2 bg-secondary text-dark"> 1. 填寫資料 </div></li><li class="col-4 col-md-4"><div class="p-3 px-1 badge rounded-pill mall_w w-100 mb-2 bg-danger text-white"> 2. 課程結帳 </div></li><li class="col-4 col-md-4"><div class="p-3 px-1 badge rounded-pill mall_w w-100 mb-2 bg-info text-dark"> 3. 付款完成 </div></li></ul>',1),_t={class:"col-12 text-dark mt-1 mt-md-4","data-aos":"zoom-in-down"},pt={class:"mx-auto text-center OBJECTS"},ht=t("div",{class:"fw-bold title mb-0"},"實體課程下訂",-1),mt=t("span",{class:"text-info fs-4"},"Place an order for the course",-1),bt={class:"row justify-content-center order mx-1"},vt={class:"col-12 col-md-8","data-aos":"fade-up"},ft={class:"col-12"},yt=t("h3",{class:"mb-3 text-success"},"訂單課程清單",-1),xt={class:"table"},gt=t("thead",{class:"border-bottom"},[t("th",null,"課程名稱"),t("th",null,"報名人數"),t("th",{class:"text-center d-none d-md-block"},"總價")],-1),wt=["src","alt"],kt={class:"mb-2 mb-md-0"},$t={class:"h6"},Tt={class:"d-table-cell d-lg-none"},Et={class:"text-center d-none d-lg-table-cell"},Vt={class:"col-12 mb-6"},Nt=t("h3",{class:"text-success mt-6"},"上課資訊",-1),St={class:"table border"},Ct=t("th",{class:"ps-3"},"姓名",-1),qt=t("th",{class:"ps-3"},"Email",-1),It={class:"text-break"},Pt=t("th",{class:"ps-3"},"電話",-1),Bt=t("th",{class:"ps-3"},"地址",-1),Ot={class:"text-break"},jt=t("th",{style:{width:"100px"},class:"ps-3"},"訂單編號",-1),At={class:"text-break"},Lt=t("th",{class:"ps-3"},"下單時間",-1),Rt=t("th",{class:"ps-3"},"付款狀態",-1),zt={key:0,class:"text-success"},Dt={key:1,class:"text-danger fw-bold"},Ft=t("th",{class:"ps-3"},"總金額",-1),Ht={colspan:"2",class:"text-center py-3"},Kt={__name:"OrderView",setup(Mt){const{VITE_API:_,VITE_PATH:p}=q,g=T(),w=E(),i=u(null),e=u({user:{}}),d=u(!1),h=()=>{d.value=!0,i.value=g.params.id,b.get(`${_}api/${p}/order/${i.value}`).then(o=>{o.data.success?(e.value=o.data.order,d.value=!1):r.fire(o.data.message,"","success")}).catch(o=>{d.value=!1,r.fire(o.response)})},k=o=>{d.value=!0,b.post(`${_}api/${p}/pay/${o}`).then(()=>{r.fire("己完成付款"),h(),d.value=!1}).catch(n=>{d.value=!1,r.fire(n,"","error")})},$=()=>{w.push("/products")};return V(()=>{h()}),(o,n)=>{const m=N("VueLoading");return a(),c("div",I,[e.value.is_paid?(a(),c("div",P,[B,t("div",O,[t("div",j,[A,L,v(m,{active:d.value,"z-index":1060,class:"text-center"},null,8,["active"])])]),t("div",R,[t("div",z,[t("div",D,[F,t("table",H,[M,t("tbody",null,[(a(!0),c(f,null,y(e.value.products,l=>(a(),c("tr",{key:l,class:"align-middle"},[t("td",null,[t("img",{src:l.product.imageUrl,alt:l.product.title,style:{width:"100px"},class:"rounded-3"},null,8,U)]),t("td",null,[t("p",J,s(l.product.title),1),t("p",G,"數量 : "+s(l.qty),1),t("p",K," NT $"+s(o.$filters.currency(l.product.price*l.qty)),1)]),t("td",Q," NT $"+s(o.$filters.currency(l.product.price*l.qty)),1)]))),128))])])]),t("div",W,[X,t("table",Y,[t("tbody",null,[Z,t("tr",null,[tt,t("td",null,s(e.value.user.name),1)]),t("tr",null,[st,t("td",null,s(e.value.user.email),1)]),t("tr",null,[et,t("td",null,s(e.value.user.tel),1)]),t("tr",null,[lt,t("td",null,s(e.value.user.address),1)]),t("tr",null,[ot,t("td",null,s(e.value.id),1)]),t("tr",null,[at,t("td",null,s(o.$filters.date(e.value.create_at)),1)]),t("tr",null,[ct,t("td",null,[e.value.is_paid?(a(),c("strong",dt,"已付款")):(a(),c("span",nt,"尚未付款"))])]),t("tr",null,[rt,t("td",null,"NT $"+s(o.$filters.currency(e.value.total)),1)]),t("tr",null,[t("td",{colspan:"2",class:"text-center py-3"},[t("button",{type:"button",class:"btn btn-danger rounded-pill w-50 py-2",onClick:$}," 繼續看課程 ")])])])])])])])])):(a(),c("div",it,[ut,t("div",_t,[t("div",pt,[ht,mt,v(m,{active:d.value,"z-index":1060,class:"text-center"},null,8,["active"])])]),t("div",bt,[t("div",vt,[t("div",ft,[yt,t("table",xt,[gt,t("tbody",null,[(a(!0),c(f,null,y(e.value.products,l=>(a(),c("tr",{key:l,class:"align-middle"},[t("td",null,[t("img",{src:l.product.imageUrl,alt:l.product.title,style:{width:"100px"},class:"rounded-3"},null,8,wt)]),t("td",null,[t("p",kt,s(l.product.title),1),t("p",$t,"人數 : "+s(l.qty),1),t("p",Tt," NT $"+s(o.$filters.currency(l.product.price*l.qty)),1)]),t("td",Et," NT $"+s(o.$filters.currency(l.product.price*l.qty)),1)]))),128))])])]),t("div",Vt,[Nt,t("table",St,[t("tbody",null,[t("tr",null,[Ct,t("td",null,s(e.value.user.name),1)]),t("tr",null,[qt,t("td",It,s(e.value.user.email),1)]),t("tr",null,[Pt,t("td",null,s(e.value.user.tel),1)]),t("tr",null,[Bt,t("td",Ot,s(e.value.user.address),1)]),t("tr",null,[jt,t("td",At,s(e.value.id),1)]),t("tr",null,[Lt,t("td",null,s(o.$filters.date(e.value.create_at)),1)]),t("tr",null,[Rt,t("td",null,[e.value.is_paid?(a(),c("strong",zt,"已付款")):(a(),c("span",Dt,"尚未付款"))])]),t("tr",null,[Ft,t("td",null,"NT $"+s(o.$filters.currency(e.value.total)),1)]),t("tr",null,[t("td",Ht,[e.value.is_paid?S("",!0):(a(),c("button",{key:0,type:"button",class:"btn btn-danger rounded-pill w-50 py-2",onClick:n[0]||(n[0]=l=>k(i.value))}," 確認付款去 "))])])])])])])])]))])}}};export{Kt as default};

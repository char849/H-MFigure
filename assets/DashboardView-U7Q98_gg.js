import{a as d}from"./axios-L6U4YIEh.js";import{S as r}from"./sweetalert2.all-scv4yxnO.js";import{q as v,g as k,a as h,o as _,c as f,b as a,d as i,w as c,e as u,p as m,m as x,r as V,j as E,i as w,F as R}from"./index-6HpqlA5v.js";import{u as T}from"./mixins-0_zIiLlr.js";import"./selector-engine-hBxd5FWi.js";var C={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const I={class:"navbar navbar-expand-lg fixed-top navbar-light bg-dark text-success fw-bold"},N={class:"container-fluid"},A=a("span",{class:"navbar-toggler-icon"},null,-1),D=[A],P={class:"collapse navbar-collapse",ref:"collapse",id:"navbarNav"},S={class:"navbar-nav me-auto mb-2 mb-lg-0"},$={class:"nav-item"},B={class:"nav-item"},H={class:"nav-item"},M={__name:"DashboardBar",setup(g){const{closeNavHam:o}=T(),{VITE_API:l}=C,n=v(),p=()=>{const t=`${l}/logout`;d.post(t).then(e=>{e.data.success&&(n.push("/login"),r.value(e.data.message))}).catch(e=>{e.response&&e.response.data?r.fire(e.response.data.message):r.fire("己成功登出")})};return k(()=>{o()}),(t,e)=>{const s=h("RouterLink");return _(),f("nav",I,[a("div",N,[i(s,{class:"navbar-brand mt-0 text-white",to:"/admin/products"},{default:c(()=>[u("後台首頁")]),_:1}),a("button",{class:"navbar-toggler collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",onClick:e[0]||(e[0]=(...b)=>t.toggleNavHam&&t.toggleNavHam(...b))},D),a("div",P,[a("ul",S,[a("li",$,[i(s,{class:"nav-link text-white",to:"/admin/products",onClick:m(o)},{default:c(()=>[u("後台產品列表")]),_:1},8,["onClick"])]),a("li",B,[i(s,{class:"nav-link text-white",to:"/admin/orders",onClick:m(o)},{default:c(()=>[u("後台訂單列表")]),_:1},8,["onClick"])]),a("li",H,[a("a",{href:"#",class:"nav-link text-white",onClick:x(p,["prevent"])},"登出")])])],512)])])}}};var F={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const q={__name:"DashboardView",setup(g){const o=v(),{VITE_API:l}=F,n=V(!1);return(()=>{const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");d.defaults.headers.common.Authorization=`${t}`;const e=`${l}api/user/check`;d.post(e).then(()=>{n.value=!0}).catch(s=>{o.push("/login"),r.fire(s.response.data.message)})})(),(t,e)=>{const s=h("RouterView");return _(),f(R,null,[i(M),n.value?(_(),E(s,{key:0})):w("",!0)],64)}}};export{q as default};

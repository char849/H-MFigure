import{a as x}from"./axios-L6U4YIEh.js";import{r as V,a as d,w,o as I,b as v,c as h,d as b,e as t,f as s,g as n,u,t as p,h as _,n as M,_ as T,i as R,F as A}from"./index-0EYJue82.js";import{u as $}from"./mixins-o2zpwJfl.js";import"./selector-engine-Yp5Y2oZC.js";const O="/H-MFigure/img/bars.svg",E="/H-MFigure/img/heart.svg",y="/H-MFigure/img/bag-shopping.svg";var P={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:k,VITE_PATH:F}=P;function S(){const o=V([]),e=d(0),c=d(0),r=d(0),l=()=>{x.get(`${k}api/${F}/cart`).then(a=>{o.splice(0),o.push(...a.data.data.carts),e.value=a.data.data.final_total,c.value=a.data.data.total,r.value=o.length,console.log("pina cart",o),console.log("pina cart",o.length)}).catch(a=>{console.error("Error fetching cart:",a)})};return{cart:o,finalTotal:e,total:c,getCart:l,addToCart:a=>{const g={product_id:a,qty:1};x.post(`${k}api/${F}/cart`,{data:g}),l()},cartsLength:r}}function H(){const{cart:o,finalTotal:e,total:c,getCart:r,cartsLength:l}=S();return{cart:o,finalTotal:e,total:c,getCart:r,cartsLength:l}}function N(){return{favoriteList:d([])}}const K={class:"navbar navbar-expand-lg bg-light sticky-top"},X=t("img",{src:O,id:"navbarIcon",alt:"bars"},null,-1),D=[X],Q=t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/charlotte-lee849/1707749509526.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=GXFEqpQy04CExUb7x4STbngGE0KIedpcFYbd6aw6OWElk1a13FI%2FZBV7QUdPhIwwiN3OYzyl4XQfPnBMPIVO76gvrzZLptxpXGE%2BT7KECZ435Q0uo%2BaQ0jBD0tYAd%2F0MFXCFKlT9KAWhsukV7%2F8yFXVI%2FTIAsxXsts3MB29%2FvnKv36x%2Bjb0fz7Z2mQofOXHoTEqKscvgfknyK4OoxxuErk0wswWiXu1eVeEmyAB%2BK6Nqhnj%2Fu1f0icBEA4CstMJGqMbNSsCRcUCpPD%2BmRPHN9Z1I403Q6UneyVOPjuFTVMkEmcydyiVyP6taAMqTRsPaFosUMVuy1RgVJOGyWH1GSQ%3D%3D",alt:"logo",width:"160",class:"d-flex align-items-start"},null,-1),L=t("img",{src:E,alt:"favorite"},null,-1),G={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},q=t("img",{src:y,alt:"mall"},null,-1),j={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},z={class:"navbar-nav ms-lg-0 ms-lg-0 ms-xl-7 ms-xxl-9 d-flex align-items-center fw-bold"},U={class:"nav-item active mx-auto me-lg-5 me-xl-5"},Z={class:"nav-item mx-auto me-lg-5 me-xl-5"},W={class:"nav-item mx-auto me-lg-4 me-xl-4"},Y=t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/charlotte-lee849/1707749509526.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=GXFEqpQy04CExUb7x4STbngGE0KIedpcFYbd6aw6OWElk1a13FI%2FZBV7QUdPhIwwiN3OYzyl4XQfPnBMPIVO76gvrzZLptxpXGE%2BT7KECZ435Q0uo%2BaQ0jBD0tYAd%2F0MFXCFKlT9KAWhsukV7%2F8yFXVI%2FTIAsxXsts3MB29%2FvnKv36x%2Bjb0fz7Z2mQofOXHoTEqKscvgfknyK4OoxxuErk0wswWiXu1eVeEmyAB%2BK6Nqhnj%2Fu1f0icBEA4CstMJGqMbNSsCRcUCpPD%2BmRPHN9Z1I403Q6UneyVOPjuFTVMkEmcydyiVyP6taAMqTRsPaFosUMVuy1RgVJOGyWH1GSQ%3D%3D",alt:"logo",width:"320",class:"d-flex align-items-start"},null,-1),J={class:"nav-item ms-3 d-none d-lg-block nav-link"},tt=t("img",{src:E,alt:"favorite"},null,-1),st={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},ot={class:"nav-item ms-6 d-none d-lg-block nav-link"},at=t("img",{src:y,alt:"mall"},null,-1),et={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},lt={__name:"FrontNavbar",setup(o){const{toggleNavHam:e}=$(),{cart:c,getCart:r}=H(),l=d(!1),f=d(),a=d(0),{favoriteList:g}=N();w(c,m=>{console.log("Cart changed:",m),a.value=m.length,console.log("cartsLength updated:",a.value)});const C=()=>{l.value=!l.value,l.value?document.getElementById("navbarIcon").src="/img/close.svg":document.getElementById("navbarIcon").src="/img/bars.svg",e()},B=()=>{const m=localStorage.getItem("homeFavorite");m&&(g.value=JSON.parse(m)),console.log(g.value)};return I(()=>{B(),r()}),(m,Mt)=>{const i=v("RouterLink");return h(),b("nav",K,[t("div",{class:M(["container",{open:l.value,close:!l.value}])},[t("button",{class:"navbar-toggler mb-5",type:"button",onClick:C,"data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},D),s(i,{class:"navbar-brand ms mx-md-auto d-lg-none",to:"/"},{default:n(()=>[Q]),_:1}),s(i,{class:"nav-link me-4 mb-5 d-lg-none position-relative",to:"/favorite"},{default:n(()=>[L,t("span",G,p(u(g).length),1)]),_:1}),s(i,{class:"nav-link me-4 mb-5 d-lg-none text-dark position-relative",to:"/mall"},{default:n(()=>[q,t("span",j,p(a.value),1)]),_:1}),t("div",{class:"collapse navbar-collapse",id:"navbarNav",ref_key:"collapseRef",ref:f},[t("ul",z,[t("li",U,[s(i,{class:"nav-link",to:"/products",onClick:u(e)},{default:n(()=>[_("模型課程")]),_:1},8,["onClick"])]),t("li",Z,[s(i,{class:"nav-link",to:"/record",onClick:u(e)},{default:n(()=>[_("訂單記錄")]),_:1},8,["onClick"])]),t("li",W,[s(i,{class:"nav-link",to:"/information",onClick:u(e)},{default:n(()=>[_("展覽資訊")]),_:1},8,["onClick"])]),s(i,{class:"navbar-brand d-none d-lg-block",to:"/"},{default:n(()=>[Y]),_:1}),t("li",J,[s(i,{to:"/favorite",class:"position-relative"},{default:n(()=>[tt,t("span",st,p(u(g).length),1)]),_:1})]),t("li",ot,[s(i,{to:"/mall",class:"position-relative"},{default:n(()=>[at,t("span",et,p(a.value),1)]),_:1})])])],512)],2)])}}},nt="/H-MFigure/img/logo_white.png",ct="/H-MFigure/img/cog.svg",it="/H-MFigure/img/instagram.svg",rt="/H-MFigure/img/line.svg",dt="/H-MFigure/img/facebook.svg",gt="/H-MFigure/img/Object08.svg",mt={},_t={class:"position-relative bg-dark rounded-top-5 OBJECTS03"},ut={class:"container"},pt={class:"row"},vt={class:"col-12 d-xl-flex d-lg-flex"},ht={class:"col-12 col-xl-10 col-lg-10 pt-7 pb-6 py-xl-8 py-lg-8"},bt={class:"ms-3 ms-xl-0 ms-lg-0 ms-md-0 ms-md-9"},ft=t("img",{src:nt,alt:"logo white",class:"mb-5",width:"300"},null,-1),xt={class:"text-info"},kt=t("p",{class:"mb-2"},"本網站僅供個人作品使用，不提供商業用途",-1),Ft={class:"mb-2 d-none d-sm-block"},Et=t("p",{class:"mb-2 d-block d-sm-none"},[_(" Copyright © 2020 by 手作模型館. All Rights"),t("br"),_("Reserved. ")],-1),yt={class:"d-flex d-none d-md-block"},Ct=t("div",{class:"pe-1"},[t("img",{src:ct,alt:""})],-1),Bt=R('<div class="col-12 col-xl-2 col-lg-2"><div class="mb-7 mt-xl-10 mt-lg-10 text-secondary d-flex ms-3 ms-md-0"><a href="https://www.instagram.com/explore/tags/%E6%BC%A2%E6%96%87%E5%B8%9D/" target="_blank"><img src="'+it+'" alt="instagram" class="me-2"></a> | <a href="https://line.me/ti/p/XYcRD84KAR" target="_blank"><img src="'+rt+'" alt="instagram" class="mx-2"></a> | <a href="https://www.facebook.com/search/top?q=%E6%BC%A2%E6%96%87%E5%B8%9D" target="_blank"><img src="'+dt+'" alt="instagram" class="ms-2"></a></div></div>',1),Vt=t("div",{class:"position-absolute end-0 box-bg08 d-none d-sm-none d-md-block"},[t("img",{src:gt,class:"Object08 img-fluid",alt:"Object08"})],-1);function wt(o,e){const c=v("RouterLink");return h(),b("footer",_t,[t("div",ut,[t("div",pt,[t("div",vt,[t("div",ht,[t("div",bt,[ft,t("div",xt,[kt,t("p",Ft," Copyright © "+p(new Date().getFullYear())+" by 手作模型館. All Rights Reserved. ",1),Et,t("div",yt,[Ct,s(c,{to:"/login",class:"link"},{default:n(()=>[_("後台管理")]),_:1})])])])]),Bt])])]),Vt])}const It=T(mt,[["render",wt]]),Ot={__name:"FrontView",setup(o){return(e,c)=>{const r=v("RouterView");return h(),b(A,null,[s(lt),s(r),s(It)],64)}}};export{Ot as default};

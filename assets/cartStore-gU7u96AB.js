import{p as f,r as e,q as _}from"./index--vqkJi3i.js";import{a as i}from"./axios-L6U4YIEh.js";import{S as n}from"./sweetalert2.all-4whCkavh.js";var h={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:l,VITE_PATH:d}=h,E=f("cartStore",()=>{const o=e(!1),a=_([]),r=e(0),s=e(0),u=e(0),c=()=>{i.get(`${l}api/${d}/cart`).then(t=>{a.splice(0),a.push(...t.data.data.carts),r.value=t.data.data.final_total,s.value=t.data.data.total,u.value=a.length}).catch(t=>{n.fire("pinia cart:",t)})};return{cart:a,finalTotal:r,total:s,getCart:c,addToCart:t=>{const p={product_id:t,qty:1};o.value=!0,i.post(`${l}api/${d}/cart`,{data:p}).then(()=>{o.value=!1,c(),n.fire("己加入預約清單")})}}});export{E as u};

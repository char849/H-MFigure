import{_ as V}from"./arrow-right-long-6qfimpB6.js";import{o as a,c as o,b as t,n as x,j as b,F as k,h as $,t as c,u as I,r as g,g as j,k as F,p as T,d as m,w as y,f as L,a as P,e as w}from"./index-Kbzd9s_3.js";import{a as N}from"./axios-L6U4YIEh.js";const B={"aria-label":"Page navigation example",class:"py-3 d-flex justify-content-center"},O={class:"pagination pagination-lg"},R=t("span",{"aria-hidden":"true"},"«",-1),A=[R],M=["onClick"],D=t("span",{"aria-hidden":"true"},"»",-1),H=[D],J={__name:"PaginationComponent",props:{pages:Object},emits:["emit-pages"],setup(l,{emit:u}){const v=u,r=p=>{v("emit-pages",p)};return(p,d)=>(a(),o("nav",B,[t("ul",O,[t("li",{class:x(["page-item",{disabled:!l.pages.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:d[0]||(d[0]=b(e=>r(l.pages.current_page-1),["prevent"]))},A)],2),(a(!0),o(k,null,$(l.pages.total_pages,e=>(a(),o("li",{class:x(["page-item",{active:e===l.pages.current_page}]),key:e+"page"},[t("a",{class:"page-link",href:"#",onClick:b(h=>r(e),["prevent"])},c(e),9,M)],2))),128)),t("li",{class:x(["page-item",{disabled:!l.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:d[1]||(d[1]=b(e=>r(l.pages.current_page+1),["prevent"]))},H)],2)])]))}};var U={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const q={class:"position-relative box-bg05 mb-7"},z={class:"OBJECTS02"},G={class:"container"},K={class:"row"},Q=L('<div class="col-12 text-dark mt-xl-7 mt-lg-7 mt-md-7"><div class="fw-bold title mt-5 mb-2 d-none d-md-block d-lg-block d-xl-block"> 模型課程 <span class="text-info fw-normal fs-5">從選擇材料到創建精美模型的所有步驟</span></div><div class="fw-bold title mt-5 mb-2 d-block d-md-none d-xl-none d-lg-none"> 模型課程 <div class="text-info fw-normal fs-5 d-md-none"> 從選擇材料到創建精美模型的所有步驟 </div></div><span class="text-info fs-4">Model Course</span></div>',1),W={class:"col-12 mt-5 mt-xl-0 mt-lg-0 mt-md-0 nav nav-pills d-inline-flex justify-content-center justify-content-xl-end justify-content-lg-end justify-content-md-end"},X={class:"row g-5 pb-5 pb-md-4 pb-lg-4 pb-xl-4"},Y={class:"card02 rounded-5 shadow bg-white"},Z=["src"],tt={class:"card-body position-relative"},et={class:"rounded-pill bg-secondary fs-6 px-3 py-1 text-white position-absolute category"},st={class:"card-title pt-5 px-4"},at=["onClick"],ot={key:0},nt=t("i",{class:"bi bi-heart-fill fs-4 text-danger"},null,-1),it=[nt],lt={key:1},ct=t("i",{class:"bi bi-heart fs-4 text-danger"},null,-1),dt=[ct],rt={key:0,class:"fs-5 card-text text-info px-5 pt-2"},pt={key:1,class:"mt-3 d-flex"},_t={class:"fs-5 ms-5 card-text text-info pt-2"},gt={class:"fs-5 card-text text-dark px-4 pt-2"},mt=t("div",{class:"pb-7 pb-md-5 pb-lg-5 pb-xl-5 pt-6 d-flex"},[t("div",{class:"classBtn03 position-absolute"},[t("button",{type:"button",class:"btn btn-danger rounded-pill ps-6 pe-4 py-2 w-100"},[w(" 課程介紹 "),t("img",{src:V,class:"ps-3 pb-1",alt:"arrow-right"})])])],-1),xt={__name:"CourseView",setup(l){const{VITE_API:u,VITE_PATH:v}=U,r=I(),p=g([]),d=g(["熱門","昆蟲類","動物科","甲殼類"]),e=g([]),h=g({}),f=()=>{const{category:n="",page:_=1}=r.query;N.get(`${u}api/${v}/products?category=${n}&page=${_}`).then(i=>{p.value=i.data.products,h.value=i.data.pagination}).catch(i=>{alert(i.response.data.message)})},C=()=>{const n=localStorage.getItem("homeFavorite");n&&(e.value=JSON.parse(n))},E=n=>{if(e.value.includes(n)){const _=e.value.findIndex(i=>i===n);e.value.splice(_,1)}else e.value.push(n);localStorage.setItem("homeFavorite",JSON.stringify(e.value)),C()};return j(()=>{f(),C()}),F(()=>{f()}),T("favoriteList",e),(n,_)=>{const i=P("RouterLink"),S=P("ii");return a(),o("section",q,[t("div",z,[t("div",G,[t("div",K,[Q,t("ul",W,[m(S,null,{default:y(()=>[m(i,{class:"btn btn-danger rounded-pill mx-2 px-5 py-2 mt-3 mt-xl-0 mt-lg-0 mt-md-0",to:"/products"},{default:y(()=>[w("全部課程")]),_:1})]),_:1}),(a(!0),o(k,null,$(d.value,s=>(a(),o("li",{key:s},[m(i,{class:"btn btn-danger rounded-pill mx-2 px-5 py-2 mt-3 mt-xl-0 mt-lg-0 mt-md-0",to:`/products?category=${s}&page=${n.currentPage}`},{default:y(()=>[w(c(s),1)]),_:2},1032,["to"])]))),128))]),t("div",X,[(a(!0),o(k,null,$(p.value,s=>(a(),o("div",{key:s.id,class:"col-12 col-xl-4 col-lg-4 mx-2 mx-xl-0 mx-lg-0 mx-md-0"},[t("div",Y,[t("img",{src:s.imageUrl,class:"rounded-top-5 w-100 object-fit-cover",height:"250",alt:"img04"},null,8,Z),t("div",tt,[t("div",et,c(s.category),1),t("h4",st," 【 "+c(s.title)+" 】 ",1),t("div",{class:"card_Favorite position-absolute",onClick:ut=>E(s.id)},[e.value.includes(s.id)?(a(),o("span",ot,it)):(a(),o("span",lt,dt))],8,at),s.price===s.origin_price?(a(),o("div",rt,c(s.price)+" 元 ",1)):(a(),o("div",pt,[t("del",_t," 原價 "+c(s.origin_price)+" 元",1),t("p",gt," 現在只要 "+c(s.price)+" 元 ",1)])),mt])])]))),128))]),m(J,{pages:h.value,onEmitPages:f},null,8,["pages"])])])])])}}};export{xt as default};

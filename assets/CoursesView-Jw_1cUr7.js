import{p as R,u as B,r as l,k as N,q as A,a as y,o as a,c as n,b as t,d as r,e as p,n as k,F as $,l as w,j as M,h as _,t as d,w as O}from"./index-FuQMzG8J.js";import{_ as q}from"./arrow-right-long-6qfimpB6.js";import{_ as D}from"./PaginationComponent-W-srqkW1.js";import{a as S}from"./axios-L6U4YIEh.js";import{S as m}from"./sweetalert2.all-hoMs0OvE.js";var H={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const J={class:"position-relative box-bgFive mb-7"},z={class:"OBJECTS_Five"},U={class:"container"},G={class:"row"},K=M('<div class="col-12 text-dark mt-xl-7 mt-lg-7 mt-md-7 ein_center" data-aos="fade-down"><div class="fw-bold title mt-5 mb-2 d-none d-md-block d-lg-block d-xl-block"> 模型課程 <span class="text-info fw-normal fs-5">從選擇材料到創建精美模型的所有步驟</span></div><div class="fw-bold title mt-5 mt-md-7 mb-2 d-block d-md-none d-xl-none d-lg-none"> 模型課程 <div class="text-info fw-normal fs-5 d-md-none"> 從選擇材料到創建精美模型的所有步驟 </div></div><span class="text-info fs-4">Model Course</span></div>',1),Q={class:"col-12 mt-4 mt-xl-0 mt-lg-0 mt-md-5 nav nav-pills d-inline-flex justify-content-center justify-content-xl-end justify-content-lg-end justify-content-md-center","data-aos":"fade-down"},W={class:"row g-5 pb-5 pb-md-4 pb-lg-4 pb-xl-4 mx-auto justify-content-center justify-content-md-start","data-aos":"fade-up"},X=["onClick"],Y=["src"],Z={class:"card-body position-relative"},tt={class:"rounded-pill bg-secondary fs-6 px-3 py-1 text-white position-absolute category"},et={class:"card-title pt-5 px-4"},st=["onClick"],ot={key:0,class:""},at=t("i",{class:"bi bi-heart-fill fs-4 text-danger"},null,-1),nt=[at],it={key:1},lt=t("i",{class:"bi bi-heart fs-4 text-danger"},null,-1),ct=[lt],dt={key:0,class:"fs-5 card-text text-info px-5 pt-2"},rt={key:1,class:"mt-3 d-flex c_font"},ut={class:"ms-5 card-text text-info pt-2"},pt={class:"card-text text-dark ms-3 ms-xl-5 ms-lg-5 ms-md-9 pt-2"},_t={class:"pb-7 pb-md-5 pb-lg-5 pb-xl-5 pt-2 pt-md-6 d-flex"},mt={class:"classBtnFour position-absolute"},vt=t("img",{src:q,class:"ps-3 pb-1",alt:"課程介紹"},null,-1),kt={__name:"CoursesView",setup(ft){const{VITE_API:v,VITE_PATH:f}=H,V=R(),E=B(),g=l([]),F=l([]),C=l(["熱門","昆蟲類","動物科","甲殼類"]),i=l([]),h=l({}),u=l(!1),I=l(1),x=(s=1)=>{const{category:c=""}=V.query;u.value=!0,S.get(`${v}api/${f}/products?category=${c}&page=${s}`).then(o=>{g.value=o.data.products,h.value=o.data.pagination,u.value=!1}).catch(o=>{m.fire(o.response.data.message)})},L=s=>{S.get(`${v}api/${f}/product/${s}`).then(c=>{F.value=c.data.product,E.push(`/product/${s}`)})},b=()=>{const s=localStorage.getItem("homeFavorite");s&&(i.value=JSON.parse(s))},P=s=>{if(i.value.includes(s)){const c=i.value.findIndex(o=>o===s);i.value.splice(c,1),m.fire("己移除收藏清單")}else i.value.push(s),m.fire("己加入收藏清單");localStorage.setItem("homeFavorite",JSON.stringify(i.value)),b()};return N(()=>{b()}),A(()=>{x()}),(s,c)=>{const o=y("RouterLink"),T=y("VueLoading");return a(),n("section",J,[t("div",z,[t("div",U,[t("div",G,[K,t("ul",Q,[t("li",null,[r(o,{class:k(["btn btn-danger rounded-pill mx-2 px-5 py-2 mt-3 mt-xl-0 mt-lg-0 mt-md-0 my-md-4",{active:s.$route.query.category===void 0}]),to:"/products"},{default:p(()=>[_("全部課程")]),_:1},8,["class"])]),(a(!0),n($,null,w(C.value,e=>(a(),n("li",{key:e},[r(o,{class:k(["btn btn-danger rounded-pill mx-2 px-5 py-2 mt-3 mt-xl-0 mt-lg-0 mt-md-0",{active:e===s.$route.query.category}]),to:`/products?category=${e}&page=${I.value}`},{default:p(()=>[_(d(e),1)]),_:2},1032,["to","class"])]))),128))]),r(T,{active:u.value,"z-index":1060,class:"text-center"},null,8,["active"]),t("div",W,[(a(!0),n($,null,w(g.value,e=>(a(),n("div",{key:e.id,class:"col-12 col-xl-4 col-lg-5 mx-2 mx-xl-0 mx-lg-0 mx-md-0"},[t("div",{class:"card02 rounded-5 shadow bg-white position-relative cardTo",role:"button",onClick:j=>L(e.id)},[t("div",null,[t("img",{src:e.imageUrl,class:"rounded-top-5 w-100 object-fit-cover",height:"250",alt:"課程圖片"},null,8,Y)]),t("div",Z,[t("div",tt,d(e.category),1),t("h4",et," 【 "+d(e.title)+" 】 ",1),t("button",{type:"button",class:"card_Favorite rise-shake position-absolute",onClick:O(j=>P(e.id),["stop"])},[i.value.includes(e.id)?(a(),n("span",ot,nt)):(a(),n("span",it,ct))],8,st),e.price===e.origin_price?(a(),n("div",dt,d(e.price)+" 元 ",1)):(a(),n("div",rt,[t("del",ut," 原價 $"+d(s.$filters.currency(e.origin_price))+" 元",1),t("p",pt," 特價 $"+d(s.$filters.currency(e.price))+" 元 ",1)])),t("div",_t,[t("div",mt,[r(o,{to:`/product/${e.id}`,type:"button",class:"btn btn-danger rounded-pill ps-6 pe-4 py-2 w-100"},{default:p(()=>[_(" 課程介紹 "),vt]),_:2},1032,["to"])])])])],8,X)]))),128))]),r(D,{pages:h.value,onEmitPages:x},null,8,["pages"])])])])])}}};export{kt as default};

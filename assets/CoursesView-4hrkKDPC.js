import{_ as L}from"./arrow-right-long-6qfimpB6.js";import{d as a,e as o,f as t,n as b,m as y,F as w,j as C,t as c,u as F,a as r,o as T,p as N,b as k,g as p,w as g,i as B,h as $}from"./index-UplOLRdT.js";import{a as O}from"./axios-L6U4YIEh.js";import{S as R}from"./sweetalert2.all-2vBzQ_vL.js";const A={"aria-label":"Page navigation example",class:"pb-3 pt-5 d-flex justify-content-center"},M={class:"pagination pagination-lg"},D=t("span",{"aria-hidden":"true"},"«",-1),H=[D],J=["onClick"],z=t("span",{"aria-hidden":"true"},"»",-1),U=[z],q={__name:"PaginationComponent",props:{pages:Object},emits:["emit-pages"],setup(l,{emit:v}){const f=v,_=m=>{f("emit-pages",m)};return(m,d)=>(a(),o("nav",A,[t("ul",M,[t("li",{class:b(["page-item",{disabled:!l.pages.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:d[0]||(d[0]=y(s=>_(l.pages.current_page-1),["prevent"]))},H)],2),(a(!0),o(w,null,C(l.pages.total_pages,s=>(a(),o("li",{class:b(["page-item",{active:s===l.pages.current_page}]),key:s+"page"},[t("a",{class:"page-link",href:"#",onClick:y(h=>_(s),["prevent"])},c(s),9,J)],2))),128)),t("li",{class:b(["page-item",{disabled:!l.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:d[1]||(d[1]=y(s=>_(l.pages.current_page+1),["prevent"]))},U)],2)])]))}};var G={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const K={class:"position-relative box-bg05 mb-7"},Q={class:"OBJECTS05"},W={class:"container"},X={class:"row"},Y=B('<div class="col-12 text-dark mt-xl-7 mt-lg-7 mt-md-7" data-aos="fade-down"><div class="fw-bold title mt-5 mb-2 d-none d-md-block d-lg-block d-xl-block"> 模型課程 <span class="text-info fw-normal fs-5">從選擇材料到創建精美模型的所有步驟</span></div><div class="fw-bold title mt-7 mb-2 d-block d-md-none d-xl-none d-lg-none"> 模型課程 <div class="text-info fw-normal fs-5 d-md-none"> 從選擇材料到創建精美模型的所有步驟 </div></div><span class="text-info fs-4">Model Course</span></div>',1),Z={class:"col-12 mt-5 mt-xl-0 mt-lg-0 mt-md-5 nav nav-pills d-inline-flex justify-content-center justify-content-xl-end justify-content-lg-end justify-content-md-center","data-aos":"fade-down"},tt={class:"row g-5 pb-5 pb-md-4 pb-lg-4 pb-xl-4 justify-content-center","data-aos":"fade-up"},et={class:"card02 rounded-5 shadow bg-white"},st=["src"],at={class:"card-body position-relative"},ot={class:"rounded-pill bg-secondary fs-6 px-3 py-1 text-white position-absolute category"},nt={class:"card-title pt-5 px-4"},it=["onClick"],lt={key:0},ct=t("i",{class:"bi bi-heart-fill fs-4 text-danger"},null,-1),dt=[ct],rt={key:1},pt=t("i",{class:"bi bi-heart fs-4 text-danger"},null,-1),_t=[pt],mt={key:0,class:"fs-5 card-text text-info px-5 pt-2"},ut={key:1,class:"mt-3 d-flex c_font"},gt={class:"ms-5 card-text text-info pt-2"},vt={class:"card-text text-dark ms-3 ms-xl-5 ms-lg-5 ms-md-9 pt-2"},ft={class:"pb-7 pb-md-5 pb-lg-5 pb-xl-5 pt-2 pt-md-6 d-flex"},ht={class:"classBtn04 position-absolute"},xt=t("img",{src:L,class:"ps-3 pb-1",alt:"arrow-right"},null,-1),Ct={__name:"CoursesView",setup(l){const{VITE_API:v,VITE_PATH:f}=G,_=F(),m=r([]),d=r(["熱門","昆蟲類","動物科","甲殼類"]),s=r([]),h=r({}),V=r(1),x=r(!1),S=(i=1)=>{const{category:u=""}=_.query;x.value=!0,O.get(`${v}api/${f}/products?category=${u}&page=${i}`).then(n=>{x.value=!1,m.value=n.data.products,h.value=n.data.pagination}).catch(n=>{alert(n.response.data.message)})},P=()=>{const i=localStorage.getItem("homeFavorite");i&&(s.value=JSON.parse(i))},E=i=>{if(s.value.includes(i)){const u=s.value.findIndex(n=>n===i);s.value.splice(u,1)}else s.value.push(i);R.fire("己加入收藏清單"),localStorage.setItem("homeFavorite",JSON.stringify(s.value)),P()};return T(()=>{P()}),N(()=>{S()}),(i,u)=>{const n=k("RouterLink"),j=k("ii"),I=k("VueLoading");return a(),o("section",K,[t("div",Q,[t("div",W,[t("div",X,[Y,t("ul",Z,[p(j,null,{default:g(()=>[p(n,{class:"btn btn-danger rounded-pill mx-2 px-5 py-2 mt-3 mt-xl-0 mt-lg-0 mt-md-0 my-md-4",to:"/products"},{default:g(()=>[$("全部課程")]),_:1})]),_:1}),(a(!0),o(w,null,C(d.value,e=>(a(),o("li",{key:e},[p(n,{class:"btn btn-danger rounded-pill mx-2 px-5 py-2 mt-3 mt-xl-0 mt-lg-0 mt-md-0",to:`/products?category=${e}&page=${V.value}`},{default:g(()=>[$(c(e),1)]),_:2},1032,["to"])]))),128))]),p(I,{active:x.value,"z-index":1060,class:"text-center"},null,8,["active"]),t("div",tt,[(a(!0),o(w,null,C(m.value,e=>(a(),o("div",{key:e.id,class:"col-12 col-xl-4 col-lg-5 mx-2 mx-xl-0 mx-lg-0 mx-md-0"},[t("div",et,[t("img",{src:e.imageUrl,class:"rounded-top-5 w-100 object-fit-cover",height:"250",alt:"img04"},null,8,st),t("div",at,[t("div",ot,c(e.category),1),t("h4",nt," 【 "+c(e.title)+" 】 ",1),t("div",{class:"card_Favorite position-absolute",onClick:bt=>E(e.id)},[s.value.includes(e.id)?(a(),o("span",lt,dt)):(a(),o("span",rt,_t))],8,it),e.price===e.origin_price?(a(),o("div",mt,c(e.price)+" 元 ",1)):(a(),o("div",ut,[t("del",gt," 原價 $"+c(e.origin_price)+" 元",1),t("p",vt," 特價 $"+c(e.price)+" 元 ",1)])),t("div",ft,[t("div",ht,[p(n,{to:`/product/${e.id}`,type:"button",class:"btn btn-danger rounded-pill ps-6 pe-4 py-2 w-100"},{default:g(()=>[$(" 課程介紹 "),xt]),_:2},1032,["to"])])])])])]))),128))]),p(q,{pages:h.value,onEmitPages:S},null,8,["pages"])])])])])}}};export{Ct as default};

import{a as d}from"./axios-L6U4YIEh.js";import{S as n}from"./sweetalert2.all-Sr1YpjMW.js";import{x as m,b as v,c as p,d as h,e as a,f as l,g as u,h as _,m as g,a as k,l as b,k as V,F as E}from"./index-mUWdFrSx.js";var R={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const I={class:"navbar navbar-expand-lg fixed-top navbar-light text-success fw-bold"},T={class:"container-fluid"},x=a("span",{class:"navbar-toggler-icon"},null,-1),A=[x],C={class:"collapse navbar-collapse",ref:"collapse"},D={class:"navbar-nav me-auto mb-2 mb-lg-0"},H={class:"nav-item"},N={class:"nav-item"},P={class:"nav-item"},S={__name:"DashboardBar",setup(f){const{VITE_API:r}=R,i=m(),c=()=>{const s=`${r}/logout`;d.post(s).then(e=>{e.data.success&&(i.push("/login"),n.value(e.data.message))}).catch(e=>{e.response&&e.response.data?n.fire(e.response.data.message):n.fire("己成功登出")})};return(s,e)=>{const t=v("RouterLink");return p(),h("nav",I,[a("div",T,[l(t,{class:"navbar-brand mt-0",to:"/admin/products"},{default:u(()=>[_("後台首頁")]),_:1}),a("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...o)=>s.toggleNavHam&&s.toggleNavHam(...o))},A),a("div",C,[a("ul",D,[a("li",H,[l(t,{class:"nav-link",to:"/admin/products",onClick:s.closeNavHam},{default:u(()=>[_("後台產品列表")]),_:1},8,["onClick"])]),a("li",N,[l(t,{class:"nav-link",to:"/admin/orders",onClick:s.closeNavHam},{default:u(()=>[_("後台訂單列表")]),_:1},8,["onClick"])]),a("li",P,[a("a",{href:"#",class:"nav-link",onClick:g(c,["prevent"])},"登出")])])],512)])])}}};var $={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const F={__name:"DashboardView",setup(f){const r=m(),{VITE_API:i}=$,c=k(!1);return(()=>{const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");d.defaults.headers.common.Authorization=`${e}`;const t=`${i}api/user/check`;d.post(t).then(()=>{c.value=!0,n.fire("己成功登入")}).catch(o=>{r.push("/login"),n.fire(o.response.data.message)})})(),(e,t)=>{const o=v("RouterView");return p(),h(E,null,[l(S),c.value?(p(),b(o,{key:0})):V("",!0)],64)}}};export{F as default};

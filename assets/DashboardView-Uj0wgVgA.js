import{a as d}from"./axios-L6U4YIEh.js";import{S as l}from"./sweetalert2.all-wXZkOPxR.js";import{x as v,o as k,b as f,c as _,d as h,e,f as r,g as i,h as u,u as m,s as V,a as E,l as x,k as R,F as T}from"./index-0EYJue82.js";import{u as C}from"./mixins-o2zpwJfl.js";import"./selector-engine-Yp5Y2oZC.js";var I={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const N={class:"navbar navbar-expand-lg fixed-top navbar-light text-success fw-bold"},A={class:"container-fluid"},D=e("span",{class:"navbar-toggler-icon"},null,-1),P=[D],S={class:"collapse navbar-collapse",ref:"collapse",id:"navbarNav"},$={class:"navbar-nav me-auto mb-2 mb-lg-0"},w={class:"nav-item"},B={class:"nav-item"},H={class:"nav-item"},M={__name:"DashboardBar",setup(g){const{closeNavHam:t}=C(),{VITE_API:c}=I,n=v(),p=()=>{const s=`${c}/logout`;d.post(s).then(a=>{a.data.success&&(n.push("/login"),l.value(a.data.message))}).catch(a=>{a.response&&a.response.data?l.fire(a.response.data.message):l.fire("己成功登出")})};return k(()=>{t()}),(s,a)=>{const o=f("RouterLink");return _(),h("nav",N,[e("div",A,[r(o,{class:"navbar-brand mt-0",to:"/admin/products"},{default:i(()=>[u("後台首頁")]),_:1}),e("button",{class:"navbar-toggler collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",onClick:a[0]||(a[0]=(...b)=>s.toggleNavHam&&s.toggleNavHam(...b))},P),e("div",S,[e("ul",$,[e("li",w,[r(o,{class:"nav-link",to:"/admin/products",onClick:m(t)},{default:i(()=>[u("後台產品列表")]),_:1},8,["onClick"])]),e("li",B,[r(o,{class:"nav-link",to:"/admin/orders",onClick:m(t)},{default:i(()=>[u("後台訂單列表")]),_:1},8,["onClick"])]),e("li",H,[e("a",{href:"#",class:"nav-link",onClick:V(p,["prevent"])},"登出")])])],512)])])}}};var F={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const j={__name:"DashboardView",setup(g){const t=v(),{VITE_API:c}=F,n=E(!1);return(()=>{const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");d.defaults.headers.common.Authorization=`${s}`;const a=`${c}api/user/check`;d.post(a).then(()=>{n.value=!0}).catch(o=>{t.push("/login"),l.fire(o.response.data.message)})})(),(s,a)=>{const o=f("RouterView");return _(),h(T,null,[r(M),n.value?(_(),x(o,{key:0})):R("",!0)],64)}}};export{j as default};

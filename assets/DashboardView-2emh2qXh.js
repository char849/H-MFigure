import{a as d}from"./axios-L6U4YIEh.js";import{S as c}from"./sweetalert2.all-53ILMuRe.js";import{g as h,j as b,a as v,o as _,c as f,b as a,d as r,e as l,f as u,u as m,w as k,r as x,m as V,l as E,F as w}from"./index-4_Wae7-f.js";import{u as T}from"./mixins-oCIQPojQ.js";import"./selector-engine-oU4Eugzp.js";var R={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const I={class:"navbar navbar-expand-lg fixed-top navbar-light bg-dark text-success fw-bold"},A={class:"container-fluid"},C=a("button",{class:"navbar-toggler collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1),D={class:"collapse navbar-collapse",ref:"collapse",id:"navbarNav"},N={class:"navbar-nav me-auto mb-2 mb-lg-0"},P={class:"nav-item"},S={class:"nav-item"},$={class:"nav-item"},B={__name:"DashboardBar",setup(g){const{closeNavHam:s}=T(),{VITE_API:i}=R,n=h(),p=()=>{const o=`${i}/logout`;d.post(o).then(e=>{e.data.success&&(document.cookie="hexToken=; expires=;",n.push("/login"),c.value(e.data.message))}).catch(e=>{e.response&&e.response.data?c.fire(e.response.data.message):c.fire("己成功登出")})};return b(()=>{s()}),(o,e)=>{const t=v("RouterLink");return _(),f("nav",I,[a("div",A,[r(t,{class:"navbar-brand mt-0 text-white",to:"/admin/products"},{default:l(()=>[u("後台首頁")]),_:1}),C,a("div",D,[a("ul",N,[a("li",P,[r(t,{class:"nav-link text-white",to:"/admin/products",onClick:m(s)},{default:l(()=>[u("後台產品列表")]),_:1},8,["onClick"])]),a("li",S,[r(t,{class:"nav-link text-white",to:"/admin/orders",onClick:m(s)},{default:l(()=>[u("後台訂單列表")]),_:1},8,["onClick"])]),a("li",$,[a("a",{href:"#",class:"nav-link text-white",onClick:k(p,["prevent"])},"登出")])])],512)])])}}};var M={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const U={__name:"DashboardView",setup(g){const s=h(),{VITE_API:i}=M,n=x(!1);return(()=>{const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");d.defaults.headers.common.Authorization=`${o}`;const e=`${i}api/user/check`;d.post(e).then(()=>{n.value=!0}).catch(t=>{s.push("/login"),c.fire(t.response.data.message)})})(),(o,e)=>{const t=v("RouterView");return _(),f(w,null,[r(B),n.value?(_(),V(t,{key:0})):E("",!0)],64)}}};export{U as default};

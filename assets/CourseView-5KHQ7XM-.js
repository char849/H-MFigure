import{p as R,u as A,r,i as D,k as M,q as j,a as J,o as i,c,b as s,d as U,t as a,v as H,x as q,F as u,l as k,w as $,h as S,f as C,g as z}from"./index-Hs0vecW0.js";import{_ as T}from"./arrow-right-long-6qfimpB6.js";import{a as G,_ as K}from"./Object04-AzKzsWWF.js";import{a as f}from"./axios-L6U4YIEh.js";import{S as p}from"./sweetalert2.all-bOrz902A.js";import{u as Q}from"./cartStore-sd49-ezw.js";var W={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const X={class:"box-bgOne"},Y={class:"container-fulid"},Z={class:"container"},ss={class:"row"},ts=s("div",{class:"col-12 text-dark mt-3 mt-xl-6 mt-md-4","data-aos":"fade-down"},[s("div",{class:"mx-auto text-center OBJECTS"},[s("div",{class:"fw-bold title mb-0"},"課程介紹"),s("span",{class:"text-info fs-4"},"Course Introduction")])],-1),es={class:"row g-6 classThree mx-auto"},os={class:"col-12 col-lg-6","data-aos":"fade-left"},as={class:"d-flex flex-column"},ls=["src"],is={class:"bg-secondary p-4 p-md-5 price rounded-3","data-aos":"fade-left","data-aos-delay":"400"},cs={class:"fs_class text-primary mb-1"},ds={class:"fs-4 mb-0"},ns={class:"col-12 col-lg-6","data-aos":"fade-right"},rs={class:"d-inline-block bg-secondary text-primary py-1 px-4 rounded-5"},_s={class:"text-dark mb-4"},us=s("p",{class:"fs-5 fw-bold"},"課程內容",-1),ps=s("p",{class:"fs-5 fw-bold"},"注意事項",-1),vs={class:"mb-4"},hs={class:"row g-4"},ms={class:"col-md-6"},fs=s("p",{class:"fs-5 fw-bold"},"課程資訊",-1),gs={class:"mb-0"},bs={class:"mb-0"},xs={class:"mb-0"},ys={class:"col-md-6"},ws=s("p",{class:"fs-5 fw-bold text-primary"},".",-1),ks={class:"mb-0"},$s={class:"mb-0"},Ss={class:"mb-0"},Cs={class:"row g-4"},Ts={class:"col-md-6"},Es={class:"input-group my-2"},Vs=s("span",{class:"fs-6 bg-danger text-white px-4 py-2 rounded-start"},"人數",-1),Fs=["value"],Bs={class:"col-12 col-md-6"},Is=s("img",{src:T,class:"ps-3",alt:"加入預約清單"},null,-1),Os=s("div",{class:"d-flex justify-content-end"},[s("img",{src:G,class:"box-bgTwo pb-3",alt:"Background Image"})],-1),Ps={class:"position-relative box-bgThree"},Ls={class:"container"},Ns={class:"row"},Rs=s("div",{class:"col-12 text-dark mt-3 mt-xl-6 mt-md-4"},[s("div",{class:"mx-auto text-center OBJECTS"},[s("div",{class:"fw-bold mb-0 title"},"猜您也有興趣"),s("span",{class:"text-info fs-4"},"Guess you're also interested")])],-1),As={class:"row g-5 classFour pb-md-4 pb-lg-4 pb-xl-4 mx-auto justify-content-center","data-aos":"fade-up"},Ds={key:0,class:"col-12 col-xl-4 col-lg-5 mx-2 mx-xl-0 mx-lg-0 mx-md-0"},Ms=["onClick"],js=["src"],Js={class:"card-body position-relative"},Us={class:"rounded-pill bg-secondary fs-6 px-3 py-1 text-white position-absolute category"},Hs={class:"card-title pt-5 px-4"},qs=["onClick"],zs={key:0},Gs=s("i",{class:"bi bi-heart-fill fs-4 text-danger"},null,-1),Ks=[Gs],Qs={key:1},Ws=s("i",{class:"bi bi-heart fs-4 text-danger"},null,-1),Xs=[Ws],Ys={key:0,class:"fs-5 card-text text-info px-5 pt-2"},Zs={key:1,class:"mt-3 d-flex c_font"},st={class:"ms-5 card-text text-info pt-2"},tt={class:"card-text text-dark ms-3 ms-xl-5 ms-lg-5 ms-md-9 pt-2"},et={class:"pb-7 pb-md-5 pb-lg-5 pb-xl-5 pt-2 pt-md-6 d-flex"},ot={class:"classBtnFour position-absolute"},at=["onClick"],lt=s("img",{src:T,class:"ps-3 pb-1",alt:"課程介紹"},null,-1),it=s("div",{class:"d-flex justify-content-start"},[s("img",{src:K,class:"box-bgFour mb-0 mb-md-3",alt:"Background Image"})],-1),ct=s("div",{class:"position-absolute bg_opacity top-0 start-0 w-100 h-100 z-n1"},null,-1),ht={__name:"CourseView",setup(dt){const E=Q(),{VITE_API:v,VITE_PATH:h}=W,V=R(),g=A(),{id:b}=V.params,o=r({}),x=r([]),m=r(1),d=r(!1),_=r(""),n=r([]),F=D(()=>x.value.filter(t=>_.value===""||t.category===_.value)),B=()=>{d.value=!0,f.get(`${v}api/${h}/products/all`).then(t=>{x.value=t.data.products,d.value=!1})},I=()=>{d.value=!0,f.get(`${v}api/${h}/product/${b}`).then(t=>{o.value=t.data.product,_.value=t.data.product.category,d.value=!1,g.push(`/product/${o.value.id}`)}).catch(t=>{p.fire("Error fetching product data:",t),d.value=!1})},O=()=>{const t=localStorage.getItem("homeFavorite");t&&(n.value=JSON.parse(t))},P=t=>{const l=n.value.indexOf(t);l!==-1?(n.value.splice(l,1),p.fire("已移除我的最爱")):(n.value.push(t),p.fire("已添加到我的最爱")),localStorage.setItem("homeFavorite",JSON.stringify(n.value))},y=t=>{f.get(`${v}api/${h}/product/${t}`).then(l=>{o.value=l.data.product,_.value=l.data.product.category,d.value=!1,g.push(`/product/${o.value.id}`)}).catch(l=>{p.fire("Error fetching product data:",l),d.value=!1})};return M(()=>{I(),O()}),j(()=>{B()}),(t,l)=>{const L=J("VueLoading");return i(),c(u,null,[s("section",X,[s("div",Y,[s("div",Z,[s("div",ss,[ts,U(L,{active:d.value,"z-index":1060,class:"text-center"},null,8,["active"]),s("div",es,[s("div",os,[s("div",as,[s("img",{class:"img-fluid w-100 align-self-end rounded-5",src:o.value.imageUrl},null,8,ls),s("div",is,[s("div",cs," 特價 $"+a(t.$filters.currency(o.value.price)),1),s("del",ds,"原價 $"+a(t.$filters.currency(o.value.origin_price)),1)])])]),s("div",ns,[s("p",rs,a(o.value.category),1),s("h1",_s,a(o.value.title),1),us,s("p",null,a(o.value.content),1),ps,s("p",vs,a(o.value.description),1),s("div",hs,[s("div",ms,[fs,s("p",gs,"課程難度："+a(o.value.level),1),s("p",bs,"課程時間："+a(o.value.time),1),s("p",xs,"課程時數："+a(o.value.hr),1)]),s("div",ys,[ws,s("p",ks,"上課人數："+a(o.value.people),1),s("p",$s,"一週天數："+a(o.value.week),1),s("p",Ss,"上課地點："+a(o.value.location),1)]),s("div",Cs,[s("div",Ts,[s("div",Es,[Vs,H(s("select",{id:"",class:"form-select w-25 me-1 ps-5","onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e)},[(i(),c(u,null,k(10,e=>s("option",{value:e,key:`${e}-${C(b)}`},a(e),9,Fs)),64))],512),[[q,m.value,void 0,{number:!0}]])])]),s("div",Bs,[s("button",{type:"button",class:"btn btn-danger rounded-pill ps-6 pe-5 py-3 orderBtn my-3 my-md-0",onClick:l[1]||(l[1]=$(e=>C(E).addToCart(o.value.id,m.value),["prevent"]))},[S(" 加入預約清單 "),Is])])])])])])])])]),Os]),s("section",Ps,[s("div",Ls,[s("div",Ns,[Rs,s("div",As,[(i(!0),c(u,null,k(F.value,(e,N)=>(i(),c(u,{key:e.id},[N<3?(i(),c("div",Ds,[s("div",{class:"card02 rounded-5 shadow bg-white position-relative cardTo",role:"button",onClick:w=>y(e.id)},[s("div",null,[s("img",{src:e.imageUrl,class:"rounded-top-5 w-100 object-fit-cover",height:"250",alt:"課程圖片"},null,8,js)]),s("div",Js,[s("div",Us,a(e.category),1),s("h4",Hs,"【 "+a(e.title)+" 】",1),s("button",{type:"button",class:"card_Favorite rise-shake position-absolute",onClick:$(w=>P(e.id),["stop"])},[n.value.includes(e.id)?(i(),c("span",zs,Ks)):(i(),c("span",Qs,Xs))],8,qs),e.price===e.origin_price?(i(),c("div",Ys,a(t.$filters.currency(e.price))+" 元 ",1)):(i(),c("div",Zs,[s("del",st," 原價 $"+a(t.$filters.currency(e.origin_price))+" 元",1),s("p",tt," 特價 $"+a(t.$filters.currency(e.price))+" 元 ",1)])),s("div",et,[s("div",ot,[s("button",{onClick:w=>y(e.id),type:"button",class:"btn btn-danger rounded-pill ps-6 pe-4 py-2 w-100"},[S(" 課程介紹 "),lt],8,at)])])])],8,Ms)])):z("",!0)],64))),128))])])]),it,ct])],64)}}};export{ht as default};

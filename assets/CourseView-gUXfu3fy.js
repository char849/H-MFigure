import{_ as I}from"./arrow-right-long-6qfimpB6.js";import{o as a,c as o,b as t,n as x,j as b,F as y,h as $,t as c,u as j,r as _,g as F,k as T,p as L,d as m,w as k,f as N,a as P,e as w}from"./index-80--rZLg.js";import{a as B}from"./axios-L6U4YIEh.js";const O={"aria-label":"Page navigation example",class:"pb-3 pt-5 d-flex justify-content-center"},R={class:"pagination pagination-lg"},A=t("span",{"aria-hidden":"true"},"«",-1),M=[A],D=["onClick"],H=t("span",{"aria-hidden":"true"},"»",-1),J=[H],U={__name:"PaginationComponent",props:{pages:Object},emits:["emit-pages"],setup(l,{emit:u}){const v=u,r=p=>{v("emit-pages",p)};return(p,d)=>(a(),o("nav",O,[t("ul",R,[t("li",{class:x(["page-item",{disabled:!l.pages.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:d[0]||(d[0]=b(e=>r(l.pages.current_page-1),["prevent"]))},M)],2),(a(!0),o(y,null,$(l.pages.total_pages,e=>(a(),o("li",{class:x(["page-item",{active:e===l.pages.current_page}]),key:e+"page"},[t("a",{class:"page-link",href:"#",onClick:b(h=>r(e),["prevent"])},c(e),9,D)],2))),128)),t("li",{class:x(["page-item",{disabled:!l.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:d[1]||(d[1]=b(e=>r(l.pages.current_page+1),["prevent"]))},J)],2)])]))}};var q={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const z={class:"position-relative box-bg05 mb-7"},G={class:"OBJECTS02"},K={class:"container"},Q={class:"row"},W=N('<div class="col-12 text-dark mt-xl-7 mt-lg-7 mt-md-7"><div class="fw-bold title mt-5 mb-2 d-none d-md-block d-lg-block d-xl-block"> 模型課程 <span class="text-info fw-normal fs-5">從選擇材料到創建精美模型的所有步驟</span></div><div class="fw-bold title mt-5 mb-2 d-block d-md-none d-xl-none d-lg-none"> 模型課程 <div class="text-info fw-normal fs-5 d-md-none"> 從選擇材料到創建精美模型的所有步驟 </div></div><span class="text-info fs-4">Model Course</span></div>',1),X={class:"col-12 mt-5 mt-xl-0 mt-lg-0 mt-md-0 nav nav-pills d-inline-flex justify-content-center justify-content-xl-end justify-content-lg-end justify-content-md-end"},Y={class:"row g-5 pb-5 pb-md-4 pb-lg-4 pb-xl-4"},Z={class:"card02 rounded-5 shadow bg-white"},tt=["src"],et={class:"card-body position-relative"},st={class:"rounded-pill bg-secondary fs-6 px-3 py-1 text-white position-absolute category"},at={class:"card-title pt-5 px-4"},ot=["onClick"],nt={key:0},it=t("i",{class:"bi bi-heart-fill fs-4 text-danger"},null,-1),lt=[it],ct={key:1},dt=t("i",{class:"bi bi-heart fs-4 text-danger"},null,-1),rt=[dt],pt={key:0,class:"fs-5 card-text text-info px-5 pt-2"},_t={key:1,class:"mt-3 d-flex"},gt={class:"fs-5 ms-5 card-text text-info pt-2"},mt={class:"fs-5 card-text text-dark px-4 pt-2"},ut=t("div",{class:"pb-7 pb-md-5 pb-lg-5 pb-xl-5 pt-6 d-flex"},[t("div",{class:"classBtn03 position-absolute"},[t("button",{type:"button",class:"btn btn-danger rounded-pill ps-6 pe-4 py-2 w-100"},[w(" 課程介紹 "),t("img",{src:I,class:"ps-3 pb-1",alt:"arrow-right"})])])],-1),bt={__name:"CourseView",setup(l){const{VITE_API:u,VITE_PATH:v}=q,r=j(),p=_([]),d=_(["熱門","昆蟲類","動物科","甲殼類"]),e=_([]),h=_({}),E=_(1),f=(n=1)=>{const{category:g=""}=r.query;B.get(`${u}api/${v}/products?category=${g}&page=${n}`).then(i=>{p.value=i.data.products,h.value=i.data.pagination}).catch(i=>{alert(i.response.data.message)})},C=()=>{const n=localStorage.getItem("homeFavorite");n&&(e.value=JSON.parse(n))},S=n=>{if(e.value.includes(n)){const g=e.value.findIndex(i=>i===n);e.value.splice(g,1)}else e.value.push(n);localStorage.setItem("homeFavorite",JSON.stringify(e.value)),C()};return F(()=>{f(),C()}),T(()=>{f()}),L("favoriteList",e),(n,g)=>{const i=P("RouterLink"),V=P("ii");return a(),o("section",z,[t("div",G,[t("div",K,[t("div",Q,[W,t("ul",X,[m(V,null,{default:k(()=>[m(i,{class:"btn btn-danger rounded-pill mx-2 px-5 py-2 mt-3 mt-xl-0 mt-lg-0 mt-md-0",to:"/products"},{default:k(()=>[w("全部課程")]),_:1})]),_:1}),(a(!0),o(y,null,$(d.value,s=>(a(),o("li",{key:s},[m(i,{class:"btn btn-danger rounded-pill mx-2 px-5 py-2 mt-3 mt-xl-0 mt-lg-0 mt-md-0",to:`/products?category=${s}&page=${E.value}`},{default:k(()=>[w(c(s),1)]),_:2},1032,["to"])]))),128))]),t("div",Y,[(a(!0),o(y,null,$(p.value,s=>(a(),o("div",{key:s.id,class:"col-12 col-xl-4 col-lg-4 mx-2 mx-xl-0 mx-lg-0 mx-md-0"},[t("div",Z,[t("img",{src:s.imageUrl,class:"rounded-top-5 w-100 object-fit-cover",height:"250",alt:"img04"},null,8,tt),t("div",et,[t("div",st,c(s.category),1),t("h4",at," 【 "+c(s.title)+" 】 ",1),t("div",{class:"card_Favorite position-absolute",onClick:vt=>S(s.id)},[e.value.includes(s.id)?(a(),o("span",nt,lt)):(a(),o("span",ct,rt))],8,ot),s.price===s.origin_price?(a(),o("div",pt,c(s.price)+" 元 ",1)):(a(),o("div",_t,[t("del",gt," 原價 "+c(s.origin_price)+" 元",1),t("p",mt," 現在只要 "+c(s.price)+" 元 ",1)])),ut])])]))),128))]),m(U,{pages:h.value,onEmitPages:f},null,8,["pages"])])])])])}}};export{bt as default};

import{a as f}from"./axios-L6U4YIEh.js";import{r as B,a as g,w as V,o as w,b as v,c as h,d as b,e as t,f as s,g as e,u as x,t as u,h as m,n as C,_ as I,i as M,F as T}from"./index-W0TRu90k.js";const A="/H-MFigure/img/bars.svg",E="/H-MFigure/img/heart.svg",y="/H-MFigure/img/bag-shopping.svg";var $={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:F,VITE_PATH:k}=$;function R(){const a=B([]),r=g(0),n=g(0),o=g(0),l=()=>{f.get(`${F}api/${k}/cart`).then(i=>{a.splice(0),a.push(...i.data.data.carts),r.value=i.data.data.final_total,n.value=i.data.data.total,o.value=a.length,console.log("pina cart",a),console.log("pina cart",a.length)}).catch(i=>{console.error("Error fetching cart:",i)})};return{cart:a,finalTotal:r,total:n,getCart:l,addToCart:i=>{const p={product_id:i,qty:1};f.post(`${F}api/${k}/cart`,{data:p}),l()},cartsLength:o}}function O(){const{cart:a,finalTotal:r,total:n,getCart:o,cartsLength:l}=R();return{cart:a,finalTotal:r,total:n,getCart:o,cartsLength:l}}function P(){return{favoriteList:g([])}}const S={class:"navbar navbar-expand-lg bg-light sticky-top"},H=t("img",{src:A,id:"navbarIcon",alt:"bars"},null,-1),N=[H],K=t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/charlotte-lee849/1707749509526.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=GXFEqpQy04CExUb7x4STbngGE0KIedpcFYbd6aw6OWElk1a13FI%2FZBV7QUdPhIwwiN3OYzyl4XQfPnBMPIVO76gvrzZLptxpXGE%2BT7KECZ435Q0uo%2BaQ0jBD0tYAd%2F0MFXCFKlT9KAWhsukV7%2F8yFXVI%2FTIAsxXsts3MB29%2FvnKv36x%2Bjb0fz7Z2mQofOXHoTEqKscvgfknyK4OoxxuErk0wswWiXu1eVeEmyAB%2BK6Nqhnj%2Fu1f0icBEA4CstMJGqMbNSsCRcUCpPD%2BmRPHN9Z1I403Q6UneyVOPjuFTVMkEmcydyiVyP6taAMqTRsPaFosUMVuy1RgVJOGyWH1GSQ%3D%3D",alt:"logo",width:"160",class:"d-flex align-items-start"},null,-1),X=t("img",{src:E,alt:"favorite"},null,-1),D={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},Q=t("img",{src:y,alt:"mall"},null,-1),L={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},G={class:"collapse navbar-collapse",id:"navbarNav"},q={class:"navbar-nav ms-lg-0 ms-lg-0 ms-xl-7 ms-xxl-9 d-flex align-items-center fw-bold"},j={class:"nav-item active mx-auto me-lg-5 me-xl-5"},z={class:"nav-item mx-auto me-lg-5 me-xl-5"},U={class:"nav-item mx-auto me-lg-4 me-xl-4"},Z=t("img",{src:"https://storage.googleapis.com/vue-course-api.appspot.com/charlotte-lee849/1707749509526.png?GoogleAccessId=firebase-adminsdk-zzty7%40vue-course-api.iam.gserviceaccount.com&Expires=1742169600&Signature=GXFEqpQy04CExUb7x4STbngGE0KIedpcFYbd6aw6OWElk1a13FI%2FZBV7QUdPhIwwiN3OYzyl4XQfPnBMPIVO76gvrzZLptxpXGE%2BT7KECZ435Q0uo%2BaQ0jBD0tYAd%2F0MFXCFKlT9KAWhsukV7%2F8yFXVI%2FTIAsxXsts3MB29%2FvnKv36x%2Bjb0fz7Z2mQofOXHoTEqKscvgfknyK4OoxxuErk0wswWiXu1eVeEmyAB%2BK6Nqhnj%2Fu1f0icBEA4CstMJGqMbNSsCRcUCpPD%2BmRPHN9Z1I403Q6UneyVOPjuFTVMkEmcydyiVyP6taAMqTRsPaFosUMVuy1RgVJOGyWH1GSQ%3D%3D",alt:"logo",width:"320",class:"d-flex align-items-start"},null,-1),W={class:"nav-item ms-3 d-none d-lg-block nav-link"},Y=t("img",{src:E,alt:"favorite"},null,-1),J={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},tt={class:"nav-item ms-6 d-none d-lg-block nav-link"},st=t("img",{src:y,alt:"mall"},null,-1),at={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},ot={__name:"FrontNavbar",setup(a){const{cart:r,getCart:n}=O(),o=g(!1),l=g(0),{favoriteList:_}=P();V(r,d=>{console.log("Cart changed:",d),l.value=d.length,console.log("cartsLength updated:",l.value)});const i=()=>{o.value=!o.value,o.value?document.getElementById("navbarIcon").src="/img/close.svg":document.getElementById("navbarIcon").src="/img/bars.svg"},p=()=>{const d=localStorage.getItem("homeFavorite");d&&(_.value=JSON.parse(d)),console.log(_.value)};return w(()=>{p(),n()}),(d,Ct)=>{const c=v("RouterLink");return h(),b("nav",S,[t("div",{class:C(["container",{open:o.value}])},[t("button",{class:"navbar-toggler mb-5",type:"button",onClick:i,"data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},N),s(c,{class:"navbar-brand ms mx-md-auto d-lg-none",to:"/"},{default:e(()=>[K]),_:1}),s(c,{class:"nav-link me-4 mb-5 d-lg-none position-relative",to:"/favorite"},{default:e(()=>[X,t("span",D,u(x(_).length),1)]),_:1}),s(c,{class:"nav-link me-4 mb-5 d-lg-none text-dark position-relative",to:"/mall"},{default:e(()=>[Q,t("span",L,u(l.value),1)]),_:1}),t("div",G,[t("ul",q,[t("li",j,[s(c,{class:"nav-link",to:"/products"},{default:e(()=>[m("模型課程")]),_:1})]),t("li",z,[s(c,{class:"nav-link",to:"/record"},{default:e(()=>[m("訂單記錄")]),_:1})]),t("li",U,[s(c,{class:"nav-link",to:"/information"},{default:e(()=>[m("展覽資訊")]),_:1})]),s(c,{class:"navbar-brand d-none d-lg-block",to:"/"},{default:e(()=>[Z]),_:1}),t("li",W,[s(c,{to:"/favorite",class:"position-relative"},{default:e(()=>[Y,t("span",J,u(x(_).length),1)]),_:1})]),t("li",tt,[s(c,{to:"/mall",class:"position-relative"},{default:e(()=>[st,t("span",at,u(l.value),1)]),_:1})])])])],2)])}}},et="/H-MFigure/img/logo_white.png",nt="/H-MFigure/img/cog.svg",lt="/H-MFigure/img/instagram.svg",it="/H-MFigure/img/line.svg",ct="/H-MFigure/img/facebook.svg",rt="/H-MFigure/img/Object08.svg",dt={},gt={class:"position-relative bg-dark rounded-top-5 OBJECTS03"},mt={class:"container"},_t={class:"row"},ut={class:"col-12 d-xl-flex d-lg-flex"},pt={class:"col-12 col-xl-10 col-lg-10 pt-7 pb-6 py-xl-8 py-lg-8"},vt={class:"ms-3 ms-xl-0 ms-lg-0 ms-md-0 ms-md-9"},ht=t("img",{src:et,alt:"logo white",class:"mb-5",width:"300"},null,-1),bt={class:"text-info"},ft=t("p",{class:"mb-2"},"本網站僅供個人作品使用，不提供商業用途",-1),xt={class:"mb-2 d-none d-sm-block"},Ft=t("p",{class:"mb-2 d-block d-sm-none"},[m(" Copyright © 2020 by 手作模型館. All Rights"),t("br"),m("Reserved. ")],-1),kt={class:"d-flex d-none d-md-block"},Et=t("div",{class:"pe-1"},[t("img",{src:nt,alt:""})],-1),yt=M('<div class="col-12 col-xl-2 col-lg-2"><div class="mb-7 mt-xl-10 mt-lg-10 text-secondary d-flex ms-3 ms-md-0"><a href="https://www.instagram.com/explore/tags/%E6%BC%A2%E6%96%87%E5%B8%9D/" target="_blank"><img src="'+lt+'" alt="instagram" class="me-2"></a> | <a href="https://line.me/ti/p/XYcRD84KAR" target="_blank"><img src="'+it+'" alt="instagram" class="mx-2"></a> | <a href="https://www.facebook.com/search/top?q=%E6%BC%A2%E6%96%87%E5%B8%9D" target="_blank"><img src="'+ct+'" alt="instagram" class="ms-2"></a></div></div>',1),Bt=t("div",{class:"position-absolute end-0 box-bg08 d-none d-sm-none d-md-block"},[t("img",{src:rt,class:"Object08 img-fluid",alt:"Object08"})],-1);function Vt(a,r){const n=v("RouterLink");return h(),b("footer",gt,[t("div",mt,[t("div",_t,[t("div",ut,[t("div",pt,[t("div",vt,[ht,t("div",bt,[ft,t("p",xt," Copyright © "+u(new Date().getFullYear())+" by 手作模型館. All Rights Reserved. ",1),Ft,t("div",kt,[Et,s(n,{to:"/login",class:"link"},{default:e(()=>[m("後台管理")]),_:1})])])])]),yt])])]),Bt])}const wt=I(dt,[["render",Vt]]),Tt={__name:"FrontView",setup(a){return(r,n)=>{const o=v("RouterView");return h(),b(T,null,[s(ot),s(o),s(wt)],64)}}};export{Tt as default};

import{a as _}from"./axios-L6U4YIEh.js";import{u as x,x as w,a as p,o as k,e as d,f as s,F as h,j as b,t as l,y as $,i as v,h as T,d as c}from"./index-kH-1p4DJ.js";var E={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/H-MFigure/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const N={class:"container-fulid box-bg09"},V={key:0,class:"container mt-5 mt-md-7 mb-5"},S=v('<ul class="row justify-content-center list-unstyled py-0 py-md-3 px-3"><li class="col-md-4"><div class="bg-info p-3 badge rounded-pill fs-3 w-100 mb-2 bg-secondary text-dark"> 1. 填寫資料 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-info text-dark"> 2. 課程結帳 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-danger text-white"> 3. 付款完成 </div></li></ul><div class="col-12 text-dark mt-1 mt-md-4"><div class="mx-auto text-center OBJECTS04"><div class="fw-bold title mb-0">課程己完成付款</div><span class="text-info fs-4">Complete Payment for Course</span></div></div>',2),C={class:"row justify-content-center order mx-1"},I={class:"col-12 col-md-8"},P={class:"col-12"},q=s("h3",{class:"mb-3 text-success"},"訂單課程清單",-1),B={class:"table"},O=s("thead",{class:"border-bottom"},[s("th",null,"課程名稱"),s("th",null,"報名人數"),s("th",{class:"text-center d-none d-md-block"},"總價")],-1),j=["src","alt"],A={class:"mb-2 mb-md-0"},R={class:"h6"},D={class:"d-table-cell d-lg-none"},F={class:"text-center d-none d-lg-table-cell"},H={class:"col-12 mb-6"},M=s("h3",{class:"text-success"},"上課資訊",-1),U={class:"table border"},J=s("tr",null,[s("td",{colspan:"2",class:"text-danger fw-bold"},[s("i",{class:"bi bi-bell-fill"}),T(" 感謝同學的報名，上課時間及地點再請留意Email訊息。 ")])],-1),L=s("th",{style:{width:"200px"},class:"ps-3"},"姓名",-1),z=s("th",{class:"ps-3"},"Email",-1),G=s("th",{class:"ps-3"},"電話",-1),K=s("th",{class:"ps-3"},"地址",-1),Q=s("th",{style:{width:"100px"},class:"ps-3"},"訂單編號",-1),W=s("th",{class:"ps-3"},"下單時間",-1),X=s("th",{class:"ps-3"},"付款狀態",-1),Y={key:0,class:"text-success"},Z={key:1,class:"text-danger"},ss=s("th",{class:"ps-3"},"總金額",-1),ts={key:1,class:"container mt-5 mt-md-7 mb-5"},ls=v('<ul class="row justify-content-center list-unstyled py-0 py-md-3 px-3"><li class="col-md-4"><div class="bg-info p-3 badge rounded-pill fs-3 w-100 mb-2 bg-secondary text-dark"> 1. 填寫資料 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-danger text-white"> 2. 課程結帳 </div></li><li class="col-md-4"><div class="p-3 badge rounded-pill fs-3 w-100 mb-2 bg-info text-dark"> 3. 付款完成 </div></li></ul><div class="col-12 text-dark mt-1 mt-md-4"><div class="mx-auto text-center OBJECTS04"><div class="fw-bold title mb-0">實體課程下訂</div><span class="text-info fs-4">Place an order for the course</span></div></div>',2),es={class:"row justify-content-center order mx-1"},os={class:"col-12 col-md-8"},ds={class:"col-12"},cs=s("h3",{class:"mb-3 text-success"},"訂單課程清單",-1),as={class:"table"},ns=s("thead",{class:"border-bottom"},[s("th",null,"課程名稱"),s("th",null,"報名人數"),s("th",{class:"text-center d-none d-md-block"},"總價")],-1),rs=["src","alt"],is={class:"mb-2 mb-md-0"},us={class:"h6"},_s={class:"d-table-cell d-lg-none"},ps={class:"text-center d-none d-lg-table-cell"},hs={class:"col-12 mb-6"},bs=s("h3",{class:"text-success"},"上課資訊",-1),vs={class:"table border"},ms=s("th",{style:{width:"200px"},class:"ps-3"},"姓名",-1),ys=s("th",{class:"ps-3"},"Email",-1),gs=s("th",{class:"ps-3"},"電話",-1),fs=s("th",{class:"ps-3"},"地址",-1),xs=s("th",{style:{width:"100px"},class:"ps-3"},"訂單編號",-1),ws=s("th",{class:"ps-3"},"下單時間",-1),ks=s("th",{class:"ps-3"},"付款狀態",-1),$s={key:0,class:"text-success"},Ts={key:1,class:"text-danger fw-bold"},Es=s("th",{class:"ps-3"},"總金額",-1),Ns={colspan:"2",class:"text-center py-3"},Is={__name:"OrderView",setup(Vs){const{VITE_API:r,VITE_PATH:i}=E,m=x(),y=w(),n=p(null),t=p({user:{}}),u=()=>{n.value=m.params.id,_.get(`${r}api/${i}/order/${n.value}`).then(o=>{o.data.success?(t.value=o.data.order,console.log(t.value)):console.log(o.data.message,"","success")}).catch(o=>{console.log(o.response)})},g=o=>{_.post(`${r}api/${i}/pay/${o}`).then(()=>{u()}).catch(a=>{console.log(a)})},f=()=>{y.push("/products")};return k(()=>{u()}),(o,a)=>(c(),d("div",N,[t.value.is_paid?(c(),d("div",V,[S,s("div",C,[s("div",I,[s("div",P,[q,s("table",B,[O,s("tbody",null,[(c(!0),d(h,null,b(t.value.products,e=>(c(),d("tr",{key:e,class:"align-middle"},[s("td",null,[s("img",{src:e.product.imageUrl,alt:e.product.title,style:{width:"100px"},class:"rounded-3"},null,8,j)]),s("td",null,[s("p",A,l(e.product.title),1),s("p",R,"數量 : "+l(e.qty),1),s("p",D," NT $"+l(o.$filters.currency(e.product.price*e.qty)),1)]),s("td",F," NT $"+l(o.$filters.currency(e.product.price*e.qty)),1)]))),128))])])]),s("div",H,[M,s("table",U,[s("tbody",null,[J,s("tr",null,[L,s("td",null,l(t.value.user.name),1)]),s("tr",null,[z,s("td",null,l(t.value.user.email),1)]),s("tr",null,[G,s("td",null,l(t.value.user.tel),1)]),s("tr",null,[K,s("td",null,l(t.value.user.address),1)]),s("tr",null,[Q,s("td",null,l(t.value.id),1)]),s("tr",null,[W,s("td",null,l(o.$filters.date(t.value.create_at)),1)]),s("tr",null,[X,s("td",null,[t.value.is_paid?(c(),d("strong",Y,"已付款")):(c(),d("span",Z,"尚未付款"))])]),s("tr",null,[ss,s("td",null," NT $"+l(o.$filters.currency(t.value.total)),1)]),s("tr",null,[s("td",{colspan:"2",class:"text-center py-3"},[s("button",{type:"button",class:"btn btn-danger rounded-pill w-50 py-2",onClick:f}," 繼續看課程 ")])])])])])])])])):(c(),d("div",ts,[ls,s("div",es,[s("div",os,[s("div",ds,[cs,s("table",as,[ns,s("tbody",null,[(c(!0),d(h,null,b(t.value.products,e=>(c(),d("tr",{key:e,class:"align-middle"},[s("td",null,[s("img",{src:e.product.imageUrl,alt:e.product.title,style:{width:"100px"},class:"rounded-3"},null,8,rs)]),s("td",null,[s("p",is,l(e.product.title),1),s("p",us,"人數 : "+l(e.qty),1),s("p",_s," NT $"+l(o.$filters.currency(e.product.price*e.qty)),1)]),s("td",ps," NT $"+l(o.$filters.currency(e.product.price*e.qty)),1)]))),128))])])]),s("div",hs,[bs,s("table",vs,[s("tbody",null,[s("tr",null,[ms,s("td",null,l(t.value.user.name),1)]),s("tr",null,[ys,s("td",null,l(t.value.user.email),1)]),s("tr",null,[gs,s("td",null,l(t.value.user.tel),1)]),s("tr",null,[fs,s("td",null,l(t.value.user.address),1)]),s("tr",null,[xs,s("td",null,l(t.value.id),1)]),s("tr",null,[ws,s("td",null,l(o.$filters.date(t.value.create_at)),1)]),s("tr",null,[ks,s("td",null,[t.value.is_paid?(c(),d("strong",$s,"已付款")):(c(),d("span",Ts,"尚未付款"))])]),s("tr",null,[Es,s("td",null," NT $"+l(o.$filters.currency(t.value.total)),1)]),s("tr",null,[s("td",Ns,[t.value.is_paid?$("",!0):(c(),d("button",{key:0,type:"button",class:"btn btn-danger rounded-pill w-50 py-2",onClick:a[0]||(a[0]=e=>g(n.value))}," 確認付款去 "))])])])])])])])]))]))}};export{Is as default};
